<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funeral</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300;400;500;600&amp;family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet">
    <style>
body,html{padding:0;margin:0}.agent-inner,.header-inner{display:-webkit-box;display:-ms-flexbox}.download-inner,.header-btn a,.not-found-text,.phone-number,.phone-number a,.video-inner,footer{text-align:center}body{font-family:Roboto,sans-serif;font-size:16px;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}.download-inner a,.header-btn a{border-radius:4px;-webkit-transition:.5s;-o-transition:.5s;width:100%;text-transform:uppercase;text-decoration:none}h1,h2,h3,h4,h5,h6{font-family:'Libre Franklin',sans-serif;margin:0}.container{max-width:1140px;padding:0 15px;margin:0 auto}.header-inner{display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:24px 0}.header-btn a{display:block;max-width:270px;background:#f9ce69;padding:8px 14px;font-size:18px;color:#3a3935;font-weight:500;border:2px solid #645941;transition:.5s}.header-btn{width:100%}.header-btn a:hover{background:0 0;color:#f9ce69}.logo img{max-height:94px}.hero-area{background:#3677bc}.hero-content{max-width:540px;padding:140px 0}.hero-content h1{font-size:66px;text-transform:uppercase;color:#fff;margin:0;line-height:1.1}.hero-content p{font-size:31px;color:#fff;margin:0;line-height:1.2;padding-top:24px}.agent-inner{display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.agent-inner img{max-width:270px;border-radius:6px}.agent-photo{margin-top:-120px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.agent-info{padding:32px 0 64px}.agent-info h2{font-size:30px;margin:0;display:inline-block;border-bottom:3px solid #3678bc;padding-right:16px;padding-bottom:4px;color:#000}.agent-info p{margin:0;font-size:20px;padding-top:12px}.agent-info-area{position:relative;padding-bottom:40px}.agent-info-area:after{position:absolute;bottom:0;left:0;width:100%;height:80px;background:#3678bc;content:"";z-index:-1}.video-inner img{max-width:550px}.video-inner h2{font-size:50px;color:#3678bc;margin:0;padding-bottom:40px;line-height:1.2}.download-area,.faq-area{padding:80px 0}.calendly-inner{display:-ms-grid;display:grid;-ms-grid-columns:1fr 40px 1fr;grid-template-columns:1fr 1fr;gap:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.calendly-area{background:#3478bb;padding:60px 0}.calendly-content h2{margin:0;font-size:64px;color:#fff;line-height:1.3;text-transform:uppercase}.calendly-content img{max-width:180px}.calendly-content p{color:#fff;font-size:32px;margin:0;padding-top:16px;padding-bottom:32px}.calendly-content{padding-left:44px}.download-inner h3{font-size:32px;font-weight:500;letter-spacing:.5px;padding-bottom:24px}.download-inner a{background:#3478bb;font-size:20px;display:block;max-width:450px;margin:0 auto;color:#fff;font-weight:600;padding:12px 0;border:2px solid #0000008f;letter-spacing:1px;transition:.5s}.download-inner a:hover{background:0 0;color:#3478bb}footer{background:#3478bb;padding:40px}footer p{margin:0;font-size:17px;color:#fff}body.error-page{background:#2f5383;min-height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.not-found-text{background:#fff;padding:130px 15px;border-radius:5px}.not-found{width:100%;max-width:1100px}.not-found-text h1{font-size:100px;font-weight:700}.not-found-text h3{font-size:28px;font-weight:700}.not-found-text p{font-size:24px}.not-found .copyright{text-align:center;color:#fff;padding:20px 15px}.phone-number p{font-size:30px;color:#fff;margin:0;padding-bottom:24px}.phone-number a{display:block;max-width:270px;background:#f9ce69;padding:8px 14px;border-radius:4px;width:100%;font-size:18px;text-transform:uppercase;color:#3a3935;text-decoration:none;font-weight:500;border:2px solid #645941;-webkit-transition:.5s;-o-transition:.5s;transition:.5s;margin:0 auto}.phone-number a:hover{background:0 0;color:#f9ce69;border-color:#f9ce69}div#video{max-width:700px;margin:0 auto}@media (max-width:991px){.agent-photo,.header-btn{display:-webkit-box;display:-ms-flexbox}.agent-inner,.calendly-inner,.header-inner{-webkit-box-orient:vertical}.header-inner{-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.phone-number p{font-size:26px}.header-btn{display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:24px;padding-bottom:16px}.agent-photo{margin-top:0;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.agent-inner img,.hero-content{margin:0 auto}.hero-content{padding:70px 0;text-align:center}.hero-content h1{font-size:44px}.hero-content p{font-size:20px;line-height:1.4;padding-top:12px}.agent-inner{-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;text-align:center}.video-inner h2{font-size:40px}.calendly-widget,.video-inner img{width:100%}.calendly-inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.calendly-content img{display:none}.calendly-content{padding:0}.calendly-content h2{font-size:40px;text-align:center}.calendly-content p{font-size:24px;padding-top:8px;padding-bottom:10px}.download-area{padding:45px 0}.agent-info{padding-bottom:32px}}.d-none{display:none}
    </style>

</head>
<body>

<header>
    <div class="container">
        <div class="header-inner">
            <div class="header-btn">
                <a id="CalendlyLink" href="#">Schedule An Appointment</a>
            </div>
            <div class="logo">
                <img id="logo" src="" alt="logo">
            </div>
        </div>
    </div>
</header>

<div class="hero-area">
    <div class="container">
        <div class="hero-content">
            <h1>Why Preplan?</h1>
            <p>Explore the benefits and common questions about planning ahead and learn how it cloud work for you.</p>
        </div>
    </div>
</div>


<div class="agent-info-area">
    <div class="container">
        <div class="agent-inner">
            <div class="agent-info">
                <h2 id="AgentName"></h2>
                <p id="AgentTitle"></p>
            </div>
            <div class="agent-photo">
                <img id="agentHeadshot" src="" alt="agent">
            </div>
        </div>
    </div>
</div>


<div class="faq-area">
    <div class="container">
       <div class="video-inner">
        <h2>11 Commonly Asked Question </h2>
        <div id="video"></div>
       </div>
    </div>
</div>


<div class="calendly-area">
    <div class="container">
        <div class="calendly-inner">
            <div class="calendly-widget" id="calendlyEmbed">
           

            </div>
            <div class="calendly-content">
                <h2>Schedule An <br> Appointment</h2>
                <p>No pressure, just information.</p>
                <img src="arrow.jpg" alt="arrow">
            </div>
        </div>
        <div class="phone-number d-none">
            <p>No pressure, just information.</p>
            <a href="#">Schedule An Appointment</a>
        </div>
    </div>
</div>
    

<div class="download-area">
    <div class="container">
        <div class="download-inner">
            <h3> Our Gift to You:</h3>
            <a href="#">Download Planning Kit</a>
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <p>Copyright © 2024 TKG. All Rights Reserved.</p>
    </div>
</footer>
<script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
<script src="agent-data.js"></script>
<script>
    url = window.location;
const paramName = 'client_code';
// Check if the parameter name exists in the URL
const hasParam = (new RegExp(`[?&]${paramName}=`, 'i')).test(url);
if(hasParam){
    var query = window.location.search.match(/client_code=([^&]*)/i)[1];
}
 
var AgentsList=[]
     
AgentsList = agents.map(function(d) {
  return {
    Logo: d['FH Logo'],
    Parameter: d['URL Param'],
    AgentName: d['Agent Name'],
    AgentTitle: d['Agent title'],
    Phone: d['Phone'],
    agentHeadshot: d['Agent Headshot'],
    Video: d['Video embed'],
    CalendlyLink: d['Calendly link'],
    calendlyEmbed: d['Calendly embed'],
    title: d['Funeral home']
  };
});

let found = false;

for(let a=0; a<AgentsList.length; a++){
    
    if(AgentsList[a].Parameter == query){
        const calendlyHtmlCode = AgentsList[a].calendlyEmbed.replace(/<script[^>]*>(?:.|\n)*?<\/script>/gm, '');
  
        if(calendlyHtmlCode==''){
            document.querySelector('.calendly-inner').classList.add('d-none');
            document.querySelector('.phone-number').classList.remove('d-none');
        }
        if(AgentsList[a].Phone != ''){
            document.getElementById('CalendlyLink').href=AgentsList[a].Phone;
            document.querySelector('.phone-number a').href=AgentsList[a].Phone;
        }else{
            document.getElementById('CalendlyLink').href=AgentsList[a].CalendlyLink;
        }
            document.getElementById('logo').src=AgentsList[a].Logo;
            document.getElementById('agentHeadshot').src=AgentsList[a].agentHeadshot;
            document.getElementById('video').innerHTML = AgentsList[a].Video;
            document.getElementById('calendlyEmbed').innerHTML = calendlyHtmlCode;
            document.getElementById('AgentName').innerHTML = AgentsList[a].AgentName
            document.getElementById('AgentTitle').innerHTML = AgentsList[a].AgentTitle
            document.querySelector('title').innerHTML = AgentsList[a].title + ' | '+ AgentsList[a].AgentName + ' | '+ AgentsList[a].AgentTitle;
 
        found = true;
    break;
    }   
}

 

if (!found || (hasParam == false)) {
    document.querySelector('body').classList.add('error-page');
document.querySelector('body').innerHTML=`
<div class="not-found">
<div class="not-found-text">
<h1>404</h1>
<h3>The page you requested could not be found.</h3>
<p>It may have been removed or temporarily unavailable.</p>
    </div>

    <div class="copyright"> Copyright © 2024 TKG. All Rights Reserved.  </div>
    </div>
`;
}
</script>

</body>
</html>